(function(){"use strict";var t={1876:function(t,e,n){var i=n(5130),r=n(6768);const a={id:"app"};function s(t,e,n,i,s,o){return(0,r.uX)(),(0,r.CE)("div",a,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(s.currentPage)))])}var o=n(8533),l=n(4062),c=n(3354);const d={class:"home-page"},h={class:"content",ref:"contentBox"},u={class:"text-container"},f={class:"sliding-text",ref:"slidingText"},m={class:"horizontal-line",ref:"horizontalLine"},g={src:c,alt:"globe",class:"globe-svg",ref:"globeSvg",draggable:"false"};function v(t,e,n,a,s,c){return(0,r.uX)(),(0,r.CE)("div",d,[(0,r.Lk)("div",h,[(0,r.Lk)("div",u,[(0,r.Lk)("div",f,e[6]||(e[6]=[(0,r.Lk)("img",{src:o,alt:"ORTHYMOS",class:"text-svg"},null,-1)]),512),(0,r.Lk)("div",m,e[7]||(e[7]=[(0,r.Lk)("img",{src:l,alt:"line",class:"line-svg"},null,-1)]),512),(0,r.Lk)("div",{class:"globe-container",ref:"globeContainer",onMousedown:e[0]||(e[0]=(...t)=>c.startRotate&&c.startRotate(...t)),onMousemove:e[1]||(e[1]=(...t)=>c.rotateGlobe&&c.rotateGlobe(...t)),onMouseup:e[2]||(e[2]=(...t)=>c.endRotate&&c.endRotate(...t)),onMouseleave:e[3]||(e[3]=(...t)=>c.endRotate&&c.endRotate(...t)),onDragstart:e[4]||(e[4]=(0,i.D$)(()=>{},["prevent"])),onSelectstart:e[5]||(e[5]=(0,i.D$)(()=>{},["prevent"]))},[(0,r.Lk)("img",g,null,512)],544)])],512)])}var p={name:"HomePage",data(){return{animationStarted:!1,textAnimationComplete:!1,isRotating:!1,lastMouseX:0,rotationSpeed:0,currentRotation:0,inertiaInterval:null,inertiaDecay:.98,baseRotationSpeed:18,sensitivityFactor:.8,maxRotationSpeed:12,transitionThreshold:10,isTransitioning:!1,transitionStarted:!1,transitionDuration:1800}},mounted(){this.preloadSvg(),this.initPage(),window.addEventListener("resize",this.handleResize),setTimeout(()=>{this.startAnimation()},300),document.addEventListener("dragstart",this.preventDrag)},beforeUnmount(){window.removeEventListener("resize",this.handleResize),document.removeEventListener("dragstart",this.preventDrag),this.inertiaInterval&&clearInterval(this.inertiaInterval)},methods:{preventDrag(t){t.preventDefault()},preloadSvg(){const t=new Image;t.src=n(8533);const e=new Image;e.src=n(4062);const i=new Image;i.src=n(3354)},initPage(){this.handleResize()},handleResize(){},startAnimation(){if(this.animationStarted)return;this.animationStarted=!0;const t=this.$refs.slidingText,e=this.$refs.contentBox,n=this.$refs.horizontalLine,i=this.$refs.globeContainer;requestAnimationFrame(()=>{e.classList.add("show"),setTimeout(()=>{t.classList.add("animate"),setTimeout(()=>{n.classList.add("animate"),setTimeout(()=>{i.classList.add("animate")},800)},800)},600)}),setTimeout(()=>{this.textAnimationComplete=!0},3200)},startRotate(t){if(!this.textAnimationComplete||this.isTransitioning)return;t.preventDefault(),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.mozUserSelect="none",document.body.style.msUserSelect="none",this.isRotating=!0,this.lastMouseX=t.clientX,this.inertiaInterval&&(clearInterval(this.inertiaInterval),this.inertiaInterval=null);const e=this.$refs.globeSvg;if(e){const t=window.getComputedStyle(e);let i;try{if(window.DOMMatrix)i=new DOMMatrix(t.transform);else{if(!window.WebKitCSSMatrix)return this.currentRotation=0,e.style.animation="none",void(e.style.transform=`rotate(${this.currentRotation}deg)`);i=new WebKitCSSMatrix(t.transform)}this.currentRotation=Math.atan2(i.b,i.a)*(180/Math.PI)}catch(n){console.warn("无法获取当前旋转角度:",n),this.currentRotation=0}e.style.animation="none",e.style.transform=`rotate(${this.currentRotation}deg)`}},rotateGlobe(t){if(!this.isRotating||this.isTransitioning)return;t.preventDefault();const e=t.clientX-this.lastMouseX;if(this.lastMouseX=t.clientX,e>0){if(this.rotationSpeed=Math.min(e*this.sensitivityFactor,this.maxRotationSpeed),this.rotationSpeed>this.transitionThreshold&&!this.transitionStarted)return void this.startPageTransition();this.currentRotation+=this.rotationSpeed;const t=this.$refs.globeSvg;t&&(t.style.transform=`rotate(${this.currentRotation}deg)`)}},endRotate(){this.isRotating&&!this.isTransitioning&&(this.isRotating=!1,document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.mozUserSelect="",document.body.style.msUserSelect="",this.rotationSpeed>this.transitionThreshold&&!this.transitionStarted?this.startPageTransition():Math.abs(this.rotationSpeed)>.1?this.startInertia():this.resetOriginalAnimation())},startInertia(){this.inertiaInterval&&clearInterval(this.inertiaInterval),this.inertiaInterval=setInterval(()=>{if(this.rotationSpeed*=this.inertiaDecay,this.rotationSpeed>this.transitionThreshold&&!this.transitionStarted)return clearInterval(this.inertiaInterval),this.inertiaInterval=null,void this.startPageTransition();if(this.rotationSpeed>0){this.currentRotation+=this.rotationSpeed;const t=this.$refs.globeSvg;t&&(t.style.transform=`rotate(${this.currentRotation}deg)`)}Math.abs(this.rotationSpeed)<.1&&(clearInterval(this.inertiaInterval),this.inertiaInterval=null,this.resetOriginalAnimation())},16)},resetOriginalAnimation(){const t=this.$refs.globeSvg;if(t){const e=(this.currentRotation%360+360)%360,n=`\n          @keyframes resumeRotate {\n            0% { transform: rotate(${e}deg); }\n            100% { transform: rotate(${e+360}deg); }\n          }\n        `,i=document.createElement("style");i.type="text/css",i.innerText=n,document.head.appendChild(i),t.style.animation=`resumeRotate ${this.baseRotationSpeed}s linear infinite`}},startPageTransition(){if(this.transitionStarted)return;this.transitionStarted=!0,this.isTransitioning=!0,this.inertiaInterval&&(clearInterval(this.inertiaInterval),this.inertiaInterval=null);const t=this.$refs.slidingText,e=this.$refs.horizontalLine,n=this.$refs.globeContainer,i=this.$refs.contentBox,r=this.$refs.globeSvg;if(r){const t=(this.currentRotation%360+360)%360,e=`\n          @keyframes transitionRotate {\n            0% { transform: rotate(${t}deg); }\n            100% { transform: rotate(${t+720}deg); }\n          }\n        `,n=document.createElement("style");n.type="text/css",n.innerText=e,document.head.appendChild(n),r.style.animation=`transitionRotate ${this.transitionDuration/1e3}s linear forwards`}i.classList.add("splitting"),t.classList.add("split-up"),e.classList.add("split-up"),n.classList.add("split-down"),setTimeout(()=>{this.$root.switchPage("MainPage")},this.transitionDuration)}}},b=n(1241);const S=(0,b.A)(p,[["render",v],["__scopeId","data-v-56836f7f"]]);var y=S;const R={class:"main-page"};function w(t,e,n,i,a,s){return(0,r.uX)(),(0,r.CE)("div",R,e[0]||(e[0]=[(0,r.Lk)("div",{class:"content"},null,-1)]))}var I={name:"MainPage"};const x=(0,b.A)(I,[["render",w],["__scopeId","data-v-6ede290e"]]);var T=x,$={name:"App",components:{HomePage:y,MainPage:T},data(){return{currentPage:"HomePage"}},methods:{switchPage(t){this.currentPage=t}}};const L=(0,b.A)($,[["render",s]]);var M=L;(0,i.Ef)(M).mount("#app")},3354:function(t,e,n){t.exports=n.p+"img/球.952dc246.svg"},4062:function(t,e,n){t.exports=n.p+"img/横线.223a7928.svg"},8533:function(t,e,n){t.exports=n.p+"img/文字.347e3a95.svg"}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,i,r,a){if(!i){var s=1/0;for(d=0;d<t.length;d++){i=t[d][0],r=t[d][1],a=t[d][2];for(var o=!0,l=0;l<i.length;l++)(!1&a||s>=a)&&Object.keys(n.O).every(function(t){return n.O[t](i[l])})?i.splice(l--,1):(o=!1,a<s&&(s=a));if(o){t.splice(d--,1);var c=r();void 0!==c&&(e=c)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[i,r,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p="/map/"}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var r,a,s=i[0],o=i[1],l=i[2],c=0;if(s.some(function(e){return 0!==t[e]})){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)var d=l(n)}for(e&&e(i);c<s.length;c++)a=s[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},i=self["webpackChunkmap"]=self["webpackChunkmap"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],function(){return n(1876)});i=n.O(i)})();
//# sourceMappingURL=app.de9d90a6.js.map